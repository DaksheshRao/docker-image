pipeline{
	agent any
	stages
	{
		stage('Build docker image')
		{
			steps{
			script {
          			withDockerRegistry([credentialsId: 'dockerhub-credentials', url: 'https://index.docker.io/v1/']) {
            			docker.build("your-image-name:tag", "-f Dockerfile .")
          		}		
			}
		}
	}
}
